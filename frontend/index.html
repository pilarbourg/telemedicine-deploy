<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MotivSMA</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="/frontend/assets/svgs/logo.ico"
    />
    <link rel="stylesheet" href="/frontend/styles/styles.css" />
  </head>
  <body>
    <header>
      <nav>
        <h1>
          <img
            src="frontend/assets/svgs/logo.svg"
            style="margin-right: 1rem; width: 40px"
          />MotivSMA
        </h1>
        <div class="links">
          <button class="open-button" onclick="openForm()">Login</button>
        </div>
      </nav>
      <div class="sma-header-container">
        <h1 class="sma-header">
          Spinal <br />
          Muscular <br />
          Atrophy <br />
        </h1>
        <div class="sidebar"></div>
      </div>
    </header>
    <main>
      <div class="sma-text-main">
        <h1>MotivSMA</h1>
        Our website is dedicated to providing information, resources, and
        support for individuals and families affected by SMA. We aim to raise
        awareness about the condition, promote early diagnosis, and offer
        guidance on managing the disease.
        <br /><br />
        Through our telemedicine platform, users can upload their current
        biosignals via a BITalino sensor, connect with healthcare professionals,
        and analyze their results.
        <br /><br />
        <article>
          <h1>Services</h1>
          <div class="services">
            <div class="service">
              <h2>Information Hub</h2>
              <p>
                Comprehensive resources about SMA, including symptoms,
                diagnosis, treatment options, and care strategies.
              </p>
            </div>
            <div class="service">
              <h2>Telemedicine Platform</h2>
              <p>
                Upload biosignals using BITalino sensors and connect with
                healthcare professionals for remote consultations and analysis.
              </p>
            </div>
            <div class="service">
              <h2>Community Support</h2>
              <p>
                Forums and support groups for individuals and families to share
                experiences, advice, and encouragement.
              </p>
            </div>
          </div>
        </article>
      </div>
      <div class="auth-forms">
        <div class="icon-circle">
          <img src="frontend/assets/svgs/logo_white.svg" alt="Logo" />
        </div>
        <div class="get-started-text">
          <h1>Get Started</h1>
          <h3>
            Whether you're a patient or doctor, sign up today to get started
            with <strong>MotivSMA</strong>.
          </h3>
        </div>

        <div id="register" class="register">
          <section>
            <h2>Register</h2>
            <form action="/submit" method="POST">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required />

              <label for="password">Password</label>
              <input type="password" id="password" name="password" required />

              <label for="reg-role">Select Role</label>
              <div style="position: relative">
                <button id="dropdownDefaultButton" type="button">
                  Select Role
                  <svg
                    class="icon"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="m19 9-7 7-7-7"
                    />
                  </svg>
                </button>

                <div id="dropdown">
                  <ul>
                    <li><a href="#" data-role="DOCTOR">Doctor</a></li>
                    <li><a href="#" data-role="PATIENT">Patient</a></li>
                  </ul>
                </div>
              </div>

              <input type="hidden" id="reg-role" name="role" required />

              <button type="submit">Register</button>
            </form>
          </section>
        </div>
      </div>

      <div class="sidebar sidebar-dark"></div>
    </main>

    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-brand">
          <img src="frontend/assets/svgs/logo_white.svg" alt="MotivSMA Logo" />
          <span>MotivSMA</span>
        </div>
        <div class="footer-links">
          <a href="#">About</a>
          <a href="#">Privacy Policy</a>
          <a href="#">Contact</a>
        </div>
        <div class="footer-copy">
          &copy; 2025 MotivSMA | All rights reserved
        </div>
      </div>
    </footer>

    <div id="toast-container"></div>

    <div id="login" class="form-popup">
      <div class="form-popup-content">
        <button class="close-button" onclick="closeForm()">Ã—</button>
        <h2>Login</h2>
        <form id="login-form">
          <label for="login-email">Email</label>
          <input type="email" id="login-email" name="email" required />

          <label for="login-password">Password</label>
          <input type="password" id="login-password" name="password" required />

          <button type="submit">Login</button>
        </form>
      </div>
    </div>

    <script>
      function openForm() {
        document.getElementById("login").style.display = "flex";
      }

      function closeForm() {
        document.getElementById("login").style.display = "none";
      }

      window.onclick = function (event) {
        const popup = document.getElementById("login");
        if (event.target === popup) {
          closeForm();
        }
      };
    </script>

    <script>
      const btn = document.getElementById("dropdownDefaultButton");
      const dropdown = document.getElementById("dropdown");
      const roleInput = document.getElementById("reg-role");

      btn.addEventListener("click", () => {
        dropdown.classList.toggle("show");
      });

      dropdown.querySelectorAll("a").forEach((item) => {
        item.addEventListener("click", (e) => {
          e.preventDefault();
          const role = item.getAttribute("data-role");
          roleInput.value = role;
          btn.firstChild.textContent = item.textContent + " ";
          dropdown.classList.remove("show");
        });
      });

      document.addEventListener("click", (e) => {
        if (!btn.contains(e.target) && !dropdown.contains(e.target)) {
          dropdown.classList.remove("show");
        }
      });
    </script>

    <script src="/frontend/js/register.js"></script>
    <script src="/frontend/js/login.js"></script>
  </body>
</html>
